<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="header :: header">
<!-- Plugin Css-->
<link rel="stylesheet"
	href="assets/plugins/magnific-popup/dist/magnific-popup.css" />
<link rel="stylesheet"
	href="assets/plugins/jquery-datatables-editable/datatables.css" />
</head>

<body>


	<!-- Users Adding Modals -->
	<!-- Modal -->



	<div id="setmodel" class="custom-modal-text text-left"
		th:fragment="users">
		<form role="form" th:action="@{/manageuser}" th:object="${entity}"
			method="POST">
			<div th:if="*{user}==null">
				<div>
					<div class="form-group">
						<div class="input-group m-t-10">
							<span class="input-group-addon"
								style="min-width: 140px; text-align: center;"><i
								class="fa fa-pencil" style="float: right;"></i> EmployeeID</span> <input
								type="text" class="form-control" required="required"
								th:field="*{user.employeeId}" id="employeeid"
								placeholder="Employee ID">
						</div>
					</div>
				</div>
			</div>
			<div class="form-group">
				<div class="input-group m-t-10">
					<span class="input-group-addon"
						style="min-width: 140px; text-align: center;"><i
						class="fa fa-circle-o" style="float: right;"></i> Name</span> <input
						type="text" class="form-control" required="required"
						th:field="*{user.name}" id="name" placeholder="Enter name">
				</div>
			</div>
			<div class="form-group">
				<div class="input-group m-t-10">
					<span class="input-group-addon"
						style="min-width: 140px; text-align: center;"><i
						class="fa fa-circle-o" style="float: right;"></i> Designation</span> <input
						type="text" class="form-control" id="designation"
						th:field="*{user.designation}" placeholder="Enter designation">
				</div>
			</div>

			<div class="form-group">
				<div class="input-group m-t-10">
					<span class="input-group-addon"
						style="min-width: 140px; text-align: center;"><i
						class="fa fa-envelope-o" style="float: right;"></i> Email</span> <input
						type="email" th:field="*{user.email}" id="example-input2-group1"
						name="example-input2-group1" class="form-control"
						placeholder="Email">

				</div>
			</div>

			<div class="form-group">
				<div class="input-group m-t-10">
					<span class="input-group-addon"
						style="min-width: 140px; text-align: center;"><i
						class="fa fa-mobile" style="font-size: 25px; float: right;"></i>
						Phone No.</span><input type="text" data-parsley-type="digits"
						th:field="*{user.phoneNo}" class="form-control"
						placeholder="Phone Number">

				</div>
			</div>
			<div th:if="*{user.id}==null">
				<div class="form-group">
					<div class="input-group m-t-10">
						<span class="input-group-addon"
							style="min-width: 140px; text-align: center;"><i
							class="fa fa-user" style="float: right;"></i> Username</span> <input
							type="text" th:field="*{user.username}" required="required"
							id="example-input1-group1" name="example-input1-group1"
							class="form-control" placeholder="Username">
					</div>
				</div>


				<div class="form-group">
					<div class="input-group m-t-10">
						<span class="input-group-addon"
							style="min-width: 140px; text-align: center;"><i
							class="fa fa-key" style="float: right;"></i> Password</span> <input
							type="password" th:field="*{user.password}" required="required"
							class="form-control" id="password" placeholder="Password">
					</div>
				</div>

				<div class="form-group">
					<div class="input-group m-t-10">
						<span class="input-group-addon"
							style="min-width: 140px; text-align: center;"><i
							class="fa fa-lock" style="float: right;"></i> Confirm Password</span> <input
							data-parsley-equalto="#password" type="password"
							class="form-control" required="required" id="confirmpassword"
							placeholder="Confirm Password">
					</div>
				</div>
			</div>


			<div th:if="*{user.id}!=null">
				<div class="form-group">		
					<div style="min-width: 40px; text-align: center;"
						class="input-group-addon">
						<span style="min-width: 40px; text-align: center;"
							class="input-group-addon"><i class="fa"></i> Status</span> 
							<input
							type="radio" name="enabled" id="enabled" value="1"
							th:field="*{user.enabled}" />Enabled <input type="radio"
							name="enabled" id="disabled" value="0" th:field="*{user.enabled}" />Disabled
					</div>
				</div>
			</div>
			<div th:unless="*{user.id}!=null">
				<input type="hidden" name="enabled" id="enabled" value="1"
					th:field="*{user.enabled}" />
			</div>

			<input type="hidden" id="userId" th:field="*{user.id}" /> <select style="display:none"
				th:field="*{user.roles}">
				<option id="userRoles" th:value="*{role.id}" th:text="*{role.name}"></option>
			</select>

			<!--
			<input value="ROLE_SALE_REP" type="hidden" id="user.roles"
				name="user.roles" />
			-->

			<div class="row cen">
				<button type="submit" name="action" value="save"
					class="btn btn-success btn-custom waves-effect waves-light">Save</button>
				<span th:if="*{user.id}==null">
					<button type="button" onclick="reset();"
						class="btn btn-inverse btn-custom waves-effect waves-light">Reset</button>
				</span> <span th:if="*{user.id}!=null">
					<button type="button"
						th:onclick="'javascript:resetPasswordModal(\''+*{user.id}+'\');'"
						class="btn btn-inverse btn-custom waves-effect waves-light">Reset
						Password</button>
				</span>
			</div>
		</form>
	</div>



	<!-- USer adding ends -->

	<!-- Modal deleting starts -->
	<div id="resetPasswordModal" class="modal fade bs-example-modal-lg in"
		class="modal fade in col-sm-12" tabindex="-1" role="dialog"
		aria-labelledby="myModalLabel" aria-hidden="true"
		style="display: none; padding-right: 17px; margin-top: 10%;">
		<div class="modal-dialog card-box">
			<div class="panel panel-default panel-danger">
				<button type="button" class="close" data-dismiss="modal"
					aria-hidden="true"
					style="width: 40px; margin-top: -5px; margin-bottom: 0px;">
					<span>&times;</span><span class="sr-only">Close</span>
				</button>
				<div class="panel-body">
					<form role="form" th:action="@{/resetUserPassword}" method="POST">
						<div class="form-group">
							<h2>Are you sure to reset password?</h2>
						</div>
						<input type="hidden" id="userIdReset" name="userIdReset" />
						<div class="row cen">
							<button type="submit"
								class="btn btn-success btn-custom waves-effect waves-light">YES</button>
							<button type="button"
								class="btn btn-inverse btn-custom waves-effect waves-light"
								data-dismiss="modal" aria-hidden="true">NO</button>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
	<!-- Modal deleting ends -->

</body>

<div th:replace="footer :: script"></div>
<script type="text/javascript">
	$(document).ready(function() {
		$('form').parsley();
	});
</script>


<script>
	function resetPasswordModal(id) {
		$('#userIdReset').val(id);
		$('#resetPasswordModal').modal('show');
	}
</script>

</html>

