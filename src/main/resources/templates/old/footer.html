<html>
<body>

	<!--
	<footer class="footer text-right" th:fragment="copy">
		Copyright &copy; 2016 Binary Vibes. </footer>
-->



	<!-- ============================================================== -->
	<!-- End Right content here -->
	<!-- ============================================================== -->



	<div th:fragment="script">
		<script>
            var resizefunc = [];
        </script>
		<!--      jQuery  -->
		<script th:src="@{/js/angular.min.js}"></script>
		<script th:src="@{/js/jquery.min.js}"></script>
		<script th:src="@{/js/bootstrap.min.js}"></script>
		<script th:src="@{/js/detect.js}"></script>
		<script th:src="@{/js/fastclick.js}"></script>
		<script th:src="@{/js/jquery.slimscroll.js}"></script>
		<script th:src="@{/js/jquery.blockUI.js}"></script>
		<script th:src="@{/js/waves.js}"></script>
		<script th:src="@{/js/wow.min.js}"></script>
		<script th:src="@{/js/jquery.nicescroll.js}"></script>
		<!-- <script th:src="@{/js/jquery.scrollTo.min.js}"></script> -->
		<script th:src="@{/plugins/peity/jquery.peity.min.js}"></script>
		<script th:src="@{/plugins/waypoints/lib/jquery.waypoints.js}"></script>
		<script th:src="@{/plugins/counterup/jquery.counterup.min.js}"></script>
		<script th:src="@{/plugins/morris/morris.js}"></script>
		<script th:src="@{/plugins/raphael/raphael-min.js}"></script>
		<script th:src="@{/plugins/jquery-knob/jquery.knob.js}"></script>
		<script th:src="@{/pages/jquery.dashboard.js}"></script>
		<script th:src="@{/js/jquery.core.js}"></script>
		<script th:src="@{/js/jquery.app.js}"></script>
		<script th:src="@{/plugins/datatables/jquery.dataTables.min.js}"></script>
		<script th:src="@{/plugins/datatables/dataTables.editor.min.js}"></script>
		<script th:src="@{/plugins/datatables/dataTables.bootstrap.js}"></script>
		<script th:src="@{/plugins/custombox/dist/custombox.min.js}"></script>
		<script th:src="@{/plugins/custombox/dist/legacy.min.js}"></script>
		<script th:src="@{/plugins/jquery-sparkline/jquery.sparkline.min.js}"></script>
		<script
			th:src="@{/plugins/bootstrap-datepicker/dist/js/bootstrap-datepicker.min.js}"></script>
		<script th:src="@{/pages/jquery.dashboard_3.js}"></script>
		<!--C3 Chart-->
		<script th:src="@{/plugins/d3/d3.min.js}"></script>
		<script th:src="@{/plugins/c3/c3.min.js}"></script>
		<script th:src="@{/pages/jquery.opportunities.init.js}"></script>
		<script th:src="@{/plugins/select2/select2.min.js}"></script>
		<script th:src="@{/plugins/parsleyjs/dist/parsley.min.js}"></script>

		<!-- Sweet-Alert  -->
		<script th:src="@{/plugins/sweetalert/dist/sweetalert.min.js}"></script>
		<script th:src="@{/pages/jquery.sweet-alert.init.js}"></script>
		<script th:src="@{/js/animsition.min.js}"></script>
		<script th:src="@{/js/swal-forms.js}"></script>
		<script th:src="@{/plugins/moment/moment.js}"></script>
		<script th:src="@{/plugins/timepicker/bootstrap-timepicker.min.js}"></script>
		<script
			th:src="@{/plugins/clockpicker/dist/jquery-clockpicker.min.js}"></script>
		<script	th:src="@{/plugins/mjolnic-bootstrap-colorpicker/dist/js/bootstrap-colorpicker.min.js}"></script>			
<script th:src="@{https://cdn.datatables.net/buttons/1.1.2/js/dataTables.buttons.min.js}"></script>
<script th:src="@{//cdnjs.cloudflare.com/ajax/libs/jszip/2.5.0/jszip.min.js}"></script>
<script th:src="@{//cdn.rawgit.com/bpampuch/pdfmake/0.1.18/build/pdfmake.min.js}"></script>
<script th:src="@{//cdn.rawgit.com/bpampuch/pdfmake/0.1.18/build/vfs_fonts.js}"></script>
<script th:src="@{//cdn.datatables.net/buttons/1.1.2/js/buttons.html5.min.js}"></script>
 <script th:src="@{//cdn.jsdelivr.net/bootstrap.daterangepicker/2/daterangepicker.js}"></script>
 <script th:src="@{/pages/jquery.maskedinput.js}" type="text/javascript"></script>

 
<!--         <script th:src="@{/plugins/bootstrap-tagsinput/dist/bootstrap-tagsinput.min.js}"></script>
        <script th:src="@{/plugins/switchery/dist/switchery.min.js}"></script>
        <script th:src="@{/plugins/multiselect/js/jquery.multi-select.js}"></script>
        <script th:src="@{/plugins/jquery-quicksearch/jquery.quicksearch.js}"></script>    
        <script th:src="@{/plugins/bootstrap-select/dist/js/bootstrap-select.min.js}"></script> -->
       <script th:src="@{/plugins/bootstrap-filestyle/src/bootstrap-filestyle.min.js}"></script>
<!--         <script th:src="@{/plugins/bootstrap-touchspin/dist/jquery.bootstrap-touchspin.min.js}"></script>
       <script th:src="@{/plugins/bootstrap-maxlength/bootstrap-maxlength.min.js}"></script> -->


		<!--For Print Preview  -->

		<script th:src="@{/js/printThis.js}" type="text/javascript"
			charset="utf-8"></script>


		<script type="text/javascript">
            jQuery(document).ready(function($) {
                $('.counter').counterUp({
                    delay: 100,
                    time: 1500
                });

                $(".knob").knob();

            });
        </script>



		<script>
            function setActive() {
                aObj = document.getElementById('sidebar-menu').getElementsByTagName('a');
                for (i = 0; i < aObj.length; i++) {
                    if (document.location.href.indexOf(aObj[i].href) >= 0) {
                        aObj[i].className = 'active';
                    }
                }
            }
            window.onload = setActive;
        </script>
		<script>
            jQuery(document).ready(function() {

                // Date Picker
                jQuery('#datepicker').datepicker();
                jQuery('#myDateEdit').datepicker({
                    autoclose: true,
                    todayHighlight: true
                });
                jQuery('#myDate').datepicker({
                    autoclose: true,
                    todayHighlight: true
                });
                //Clock Picker
                $('.clockpicker').clockpicker({
                    donetext: 'Done'
                });

                $('#single-input').clockpicker({
                    placement: 'bottom',
                    align: 'left',
                    autoclose: true,
                    'default': 'now'
                });
                $('#check-minutes').click(function(e) {
                    // Have to stop propagation here
                    e.stopPropagation();
                    $("#single-input").clockpicker('show')
                        .clockpicker('toggleView', 'minutes');
                });
            });
        </script>

		<script>
            var $TABLE = $('#ordercreation');
            var $TABLENew = $('#ordercreationTri');
            var $BTN = $('#export-btn');
            var $EXPORT = $('#export');


            var orderRowCount = 1;
            $('.table-add').click(function() {
                orderRowCount++;
                var $clone = $TABLE.find('tr.hide').clone(true).removeClass('hide table-line');
                var prefix = "orderDetailList[" + orderRowCount + "]";
                $clone.find("input").each(function() {
                    this.name = this.name.replace(/orderDetailList\[\d+\]/, prefix);
                });
                $clone.find("select").each(function() {
                    this.name = this.name.replace(/orderDetailList\[\d+\]/, prefix);
                });
               // $TABLE.find('tbody:last-child').append($clone);
                $TABLE.find('table').append($clone); 
            });

            var orderRowCountTri = 1;
            $('.TritableAdd').click(function() {
            
                orderRowCountTri++;
                var $clone = $TABLENew.find('tr.hide').clone(true).removeClass('hide table-line');
                var prefix = "orderDetailList[" + orderRowCount + "]";
                $clone.find("input").each(function() {
                    this.name = this.name.replace(/orderDetailList\[\d+\]/, prefix);
                });
                $clone.find("select").each(function() {
                    this.name = this.name.replace(/orderDetailList\[\d+\]/, prefix);
                });
              
                $TABLENew.find('tbody:last-child').append($clone);
               // $TABLENew.find('table').append($clone); 
            });

            $('#table tr td').on("keydown keyup", function(e) {
                var $this = $(this);
                $(this).attr('data-v-max', '9999');
                var val = $this.val();
                var valLength = val.length;
                var maxCount = $this.attr('maxlength');
                if (valLength > maxCount) {
                    $this.val($this.val().substring(0, maxCount));
                }
                //if the letter is not digit then display error and don't type anything 
                if (e.which != 8 && e.which != 0 && (e.which < 48 || e.which > 57) && (e.which < 96 || e.which > 105)) {
                    //display error message
                    return false;
                }

                $(this).css({
                  //  "background-color": "#BFBFBF",
                    "font-weight": "900",
                   // "border": "2px solid black"
                });
            });
            $("#ifgquantity, #triquantity, #ifgnum1, #trinum1, #ifgmarketretail, #trimarketretail").on("keydown keyup", function(e) {
                var $this = $(this);
                $(this).attr('maxlength', '6');
                var val = $this.val();
                var valLength = val.length;
                var maxCount = $this.attr('maxlength');
                if (valLength > maxCount) {
                    $this.val($this.val().substring(0, maxCount));
                }
                //if the letter is not digit then display error and don't type anything
                if (e.which != 8 && e.which != 0 && (e.which < 48 || e.which > 57) && (e.which < 96 || e.which > 105)) {
                    //display error message
                    return false;
                }
            });

/*             $('.table-remove').click(function() {
                swal({
                        title: "Are you sure?",
                        text: "You will not be able to recover this data!",
                        type: "warning",
                        showCancelButton: true,
                        confirmButtonColor: '#DD6B55',
                        confirmButtonText: 'Yes, Delete it!',
                        cancelButtonText: "No, Cancel!",
                        closeOnConfirm: false,
                        closeOnCancel: false
                    },
                    function(isConfirm) {
                        if (isConfirm) {
                        	
                        	                      row.detach();
                          
                            swal({
                                title: "Deleted",
                                timer: "800",
                                type: "success"
                            });
                        } else {
                            swal({
                                title: "Cancelled",
                                timer: "600",
                                type: "error"
                            });
                        }
                    });
            }); */
            //A few jQuery helpers for exporting only
          //  jQuery.fn.pop = [].pop;
           // jQuery.fn.shift = [].shift;

            /*  $BTN.click(function () {
            	debugger;
            	//Fetching values for order placement details
            	
            	
            	var tablerow = $TABLE.find('tr:not(:hidden)');	
              var $rows = tablerow;
              var headers = [];
              
              
              
              // .splice(0, 5) Get the headers (add special header logic here)
              $($rows.shift()).find('th:not(:empty)').each(function (){
                headers.push($(this).attr('id'));
              });
              
                
                
                });
             
                  orderDetail.push(h);
              });

              
               

            		 
              

            });  */
        </script>

		<!-- animsition.js -->
		<script>
            $(document).ready(function() {
                $(".animsition-link").on("click", function() {
                    $(".content").wrapInner("<div class='animsition'></div>");
                    $('.animsition, .card-box').animsition({
                        inClass: 'zoom-in-sm',
                        outClass: 'fade-out-left-lg',
                        inDuration: 1200,
                        outDuration: 700
                    });
                });
                $("#ifgwarehouse1,#triwarehouse2").prop("checked", true);


            });
        </script>
		<!-- Numeric Functions -->
		<script
			th:src="@{/plugins/bootstrap-inputmask/bootstrap-inputmask.min.js}"></script>
		<script th:src="@{/plugins/autoNumeric/autoNumeric.js}"></script>
		<script th:src="@{/pages/datatables.editable.init.js}"></script>
		<script type="text/javascript">
            jQuery(function($) {
                $('.autonumber').autoNumeric('init');
            });
        </script>
		<script type="text/javascript">
            window.onload = function() {
                document.querySelector('#changePass').addEventListener('click', changePass)
            }

            function changePass() {
                swal.withForm({
                    title: 'Change Password',
                    text: 'Change your account password',
                    showCancelButton: true,
                    confirmButtonColor: '#DD6B55',
                    confirmButtonText: 'Submit',
                    closeOnConfirm: true,

                    formFields: [{
                        type: 'password',
                        id: 'oldP',
                        placeholder: 'Old Password'
                    }, {
                        type: 'password',
                        id: 'newP',
                        placeholder: 'New Password'
                    }, {
                        type: 'password',
                        id: 'confirmP',
                        placeholder: 'Confirm Password'
                    }]
                }, function(isConfirm) {
                    var oldPassword = $('#oldP').val();
                    var newPassword = $('#newP').val();
                    var confirmPassword = $('#confirmP').val();

                    if (isConfirm) {
                        var url = "/changePassword";
                        changePassword(oldPassword, newPassword, confirmPassword, url);
                    } else {
                        swal("Cancelled!", "Process aborted");
                        e.preventDefault();
                    }

                })
            };


            function changePassword(oldPassword, newPassword, confirmPassword, url) {

                if (newPassword != confirmPassword) {
                    swal("Oops! New password do not match", "Retry!");
                    e.preventDefault();
                } else
                if (oldPassword == "" || newPassword == "" || confirmPassword == "") {
                    swal("All Fields Are Mandetory.", "Retry!");
                    e.preventDefault();

                } else if (newPassword == oldPassword) {
                    swal("New password match with old password.", "Retry!");
                    e.preventDefault();
                } else {
                    $.ajax({
                        type: "post",
                        url: url,
                        data: {
                            'oldPassword': oldPassword,
                            'newPassword': newPassword
                        },
                        success: function(data) {}
                    }).done(
                        function(data) {
                            if (data == 0) {
                                swal("Great! Password Successfully Changed!", "success");
                            } else
                            if (data == 2) {
                                swal("Old password do not match.", "Retry!");
                            } else {
                                swal("Oops! Password Change Failed", "Something went wrong!");
                            }


                        }).error(function(data) {
                        swal("Oops", "We couldn't connect to the server!", "Something went wrong!");
                    });
                }
            };
        </script>

		<a th:if="${session.tempPass=='true'}"> <script
				th:inline="javascript">
                changePass();
            </script>
		</a>

	</div>



	<script>
var $TABLE = $('#ordercreation');
var $BTN = $('#export-btn');
var $EXPORT = $('#export');


var orderRowCount=1;
$('.table-add').click(function () {
	
	orderRowCount ++;
  var $clone = $TABLE.find('tr.hide').clone(true).removeClass('hide table-line');
  var prefix = "orderDetailList[" + orderRowCount + "]";
  $clone.find("input").each(function() {
      this.name = this.name.replace(/orderDetailList\[\d+\]/, prefix);   
   });
  $clone.find("select").each(function() {
      this.name = this.name.replace(/orderDetailList\[\d+\]/, prefix);   
   });
  $TABLE.find('tbody:last-child').append($clone);
  /*$TABLE.find('table').append($clone); */
});


$('#table tr td').on("keydown keyup", function(e) {
	var $this = $(this);
    $(this).attr('data-v-max','9999');
    var val = $this.val();
    var valLength = val.length;
    var maxCount = $this.attr('maxlength');
    if(valLength>maxCount){
        $this.val($this.val().substring(0,maxCount));
    }
    //if the letter is not digit then display error and don't type anything 
    if (e.which != 8 && e.which != 0 && (e.which < 48 || e.which > 57) && (e.which < 96 || e.which > 105)) {
       //display error message
        return false;
   }
   
$(this).css({
     //"background-color": "#BFBFBF",
     "font-weight": "800",
	  //"border":"1px solid #EB0089"
   });
	    });
$("#ifgquantity, #triquantity, #ifgnum1, #trinum1, #ifgmarketretail, #trimarketretail").on("keydown keyup", function(e) {
	var $this = $(this);
    $(this).attr('maxlength','6');
    var val = $this.val();
    var valLength = val.length;
    var maxCount = $this.attr('maxlength');
    if(valLength>maxCount){
        $this.val($this.val().substring(0,maxCount));
    }
    //if the letter is not digit then display error and don't type anything
    if (e.which != 8 && e.which != 0 && (e.which < 48 || e.which > 57) && (e.which < 96 || e.which > 105)) {
       //display error message
        return false;
   }
	    });	    
	    
$('.table-remove').click(function () {
	var row = $(this).parents('tr');
	 var row = $(this).parents('tr');
     var totalAmount = parseInt($(this).parents('tr').find(".totalamount").val());
     var totalQuantity = parseInt($(this).parents('tr').find(".total").val());     
     var x = $('#allTotal').val();
     var y = $('#allTotalamount').val();     
     var z = x - totalQuantity;
     var w = y - totalAmount;
		swal({
			title: "Are you sure?",
			text: "You will not be able to recover this data!",
			type: "warning",
			showCancelButton: true,
			confirmButtonColor: '#DD6B55',
			confirmButtonText: 'Yes, Delete it!',
			cancelButtonText: "No, Cancel!",
			closeOnConfirm: false,
			closeOnCancel: false
		},
		function(isConfirm){
	    if (isConfirm){
	     	$('#allTotal').val(z);
	     	$('#allTotalamount').val(w);
		row.detach();
		$('select.articleClass').trigger("change");
/* 		var trrow = $(this).parents('tr').find(".articleClass");
		trrow.find("option").prop('hidden', false); */
	      swal({title: "Deleted", timer: "1000",type: "success"});
	    } else {
	      swal({title: "Cancelled", timer: "600", type: "error"});
	    }
		});
	});
//A few jQuery helpers for exporting only
jQuery.fn.pop = [].pop;
jQuery.fn.shift = [].shift;
</script>

	<!-- animsition.js -->
	<script>
 $(document).ready(function() {
 $(".animsition-link").on("click", function(){
 $( ".content" ).wrapInner( "<div class='animsition'></div>");
 $('.animsition, .card-box').animsition({
      inClass:'zoom-in-sm',
      outClass:'fade-out-left-lg',
	  inDuration: 1200,
	  outDuration: 700
     });
   });
 $( "#ifgwarehouse1,#triwarehouse2" ).prop( "checked", true ); 

 
});
   </script>
	<!-- Numeric Functions -->
	<script
		th:src="@{/plugins/bootstrap-inputmask/bootstrap-inputmask.min.js}"></script>
	<script th:src="@{/plugins/autoNumeric/autoNumeric.js}"></script>
	<script th:src="@{/pages/datatables.editable.init.js}"></script>
	<script type="text/javascript">
		  jQuery(function($) {
		      $('.autonumber').autoNumeric('init');    
		  });
        </script>
</body>

</html>